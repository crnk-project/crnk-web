<html>
<head>
    <meta charset="utf-8">
    <title>Crnk: Resource-oriented Rest Development with JSON:API </title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
          rel="stylesheet">

    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>

    <script src="crnk.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="crnk.css">
</head>
<body style="padding:0px;margin:0px">

<div class="header">
    <div class="pattern">

        <div class="topbar">
            <div class="title"><a href="http://jsonapi.org/">JSON:API</a> with <b>Crnk</b></div>
            <div class="menu">
                <a href="/releases/">Releases</a>
                &nbsp;&nbsp;
                <a href="/features/">Features</a>
                &nbsp;&nbsp;
                <a href="/examples/">Examples</a>
                &nbsp;&nbsp;
                <a href="/releases/stable/documentation/">Docs</a>
                &nbsp;&nbsp;
                <a href="/releases/latest/documentation/cheatsheet.html">Cheatsheet</a>
                &nbsp;&nbsp;
                <a href="/related/">Related</a>
            </div>
        </div>

        <div style="clear:left">
        </div>

        <div>
            <div class="images">
                <img src="images/document.png">
            </div>
        </div>

        <div>
            <div class="teaser">
                Crank up the development<br>
                of resource-oriented APIs.
            </div>

            <div class="more">
                Learn more in the <a href="https://github.com/crnk-project/crnk-example">examples</a>
                and <a href="/releases/stable/documentation/">documentation</a>.
            </div>

            <div class="social">
                <div class="social-element" style="width:32px;height:32px">
                    <a href="https://twitter.com/crnk_io" style="color:WHITE;text-decoration: none">
                        <img src="images/twitter-xxl.png" width="32" title="Follow us on Twitter">
                    </a>
                </div>

                <div class="social-element" style="width:32px;height:32px">
                    <a href="https://gitter.im/crnk-io/Lobby?source=orgpage" style="color:WHITE;text-decoration: none">
                        <img src="https://cdn03.gitter.im/_s/88aafe0/images/svg/gitter-logos/logo-white-default.svg"
                             title="Get in touch on Gitter">
                    </a>
                </div>

                <div class="social-element">
                    <a href="https://github.com/crnk-project/">
                        <svg aria-hidden="true" style="color:WHITE;fill:WHITE;" class="octicon octicon-mark-github"
                             height="32"
                             version="1.1" viewBox="0 0 16 16" width="32">

                            <path fill-rule="evenodd"
                                  d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                        </svg>
                    </a>
                </div>

                <div class="social-element">
                    <a class="github-button" href="https://github.com/crnk-project/crnk-framework"
                       data-icon="octicon-star"
                       data-size="large" data-show-count="true"
                       aria-label="Star crnk-project/crnk-framework on GitHub">Star</a>
                </div>
            </div>
        </div>
    </div>
</div>

<br>
<br>
<div class="section breaking">
    <div class="section-content breaking">

        <i class="material-icons">
            info
        </i>

        <p>
            <b>14. July 2019</b>: With 3.0.20190714142556 there is <a href="http://www.crnk.io/releases/v3.0/">new
            major release</a> available!
            There have been many incremental improvements to the code base over the past year.
            3.0 has taken the features and learnings from this time and improves upon some of the
            configuration defaults to make better use of the newer features. This in turn allows, for exampple,
            to setup resources and relationships more simply, more quickly and with fewer lines of code. A variety of new features complement
            this release.
        </p>
    </div>
</div>


<div class="section">
    <div class="section-content">
        <div class="row">

            <div class="col-xs-6 col-md-6 part">
                <div class="image">
                    <img src="images/demo_app.png" style="width: 600px; height: auto">
                </div>
            </div>

            <div class="col-xs-6 col-md-6 part">
                <div class="content" style="padding-right: 100px; padding-top: 50px">
                    <span class="highlight">All batteries included</span>:
                    Crnk will take care of everything else from low-level REST protocol details
                    to resource linking and error handling. Default implementations will let you:

                    <ul style="padding-top: 20px">
                        <li>Efficiently expose relational databases with JPA.</li>
                        <li>Automatically validate incoming data with JSR-303.</li>
                        <li>Browse in-memory data structures with sorting, filtering and paging like
                            any other data source.
                        </li>
                        <li>
                            Let built-in facetted search functionality give you an overview of your data.
                        </li>
                    </ul>

                    Application as depicted in the screenshot are implemented with virtually
                    no backend code.

                </div>
            </div>
        </div>
    </div>
</div>


<div class="section">
    <div class="section-content">
        <div class="row">

            <div class="col-xs-6 col-md-4 part">
                <div class="image">
                    <img src="images/resource.png"  style="width: 350px; height: auto">
                </div>
            </div>

            <div class="col-xs-6 col-md-8 part">
                <div class="content" style="padding-right: 100px; padding-top: 25px">
                    Crnk is a <span class="highlight">native resource-oriented rest library</span>
                    where resources and relationships are first class citizens
                    and not just path mappings on methods.
                    <span class="highlight">Model your application as resources
                    and relationships</span> and implement the repositories to access them.
                    This simplifies development and opens up many, powerful
                    new possibilities:

                    <ul style="padding-top: 20px">
                        <li>Fully transparent, automated HATEOAS setup.</li>
                        <li>Fetch complex object graphs with the inclusion of relationships to
                            perform well even with mobile connections.
                        </li>
                        <li>
                            Let your API evolve with the introduction of new attributes and relationship
                            and have it discoverable. Stop handing out RPC-style APIs where every further
                            added, isolated service makes the system less understandable.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="section">
    <div class="section-content">
        <div class="row">

            <div class="col-xs-6 col-md-5 part">
                <div class="image">
                    <img src="images/discover.png" style="width: 500px; height: auto">
                </div>
            </div>

            <div class="col-xs-6 col-md-7 part">
                <div class="content" style="padding-right: 100px; padding-top: 50px">
                    Crnk <span class="highlight">follows the <a href="http://jsonapi.org/">JSON:API</a>
                    specification and recommendations</span> in Java to facilitate building RESTful applications.
                    To quote the specification:
                    <p>
                        <i>By following shared conventions, you can increase productivity, take advantage of
                            generalized tooling, and <span
                                    class="highlight">focus on what matters: your application</span>.</i>
                    </p>

                    Applications gain a rich, discoverable REST API with
                    sorting, filtering, paging, object graphs, HATEOAS and more.

                </div>
            </div>
        </div>
    </div>
</div>


<div class="section">
    <div class="section-content">
        <div class="row">

            <div class="col-xs-6 col-md-5 part">
                <div class="image">
                    <img src="images/tracing.png" style="width: 500px; height: auto">
                </div>
            </div>

            <div class="col-xs-6 col-md-7 part">
                <div class="content" style="padding-right: 100px; padding-top: 50px">

                    A <span class="highlight">module mechanism</span> allows to dynamically add interceptors,
                    repositories, filters, security providers and more and provides the basics for many different
                    extensions. This is used, for example, to integrate with
                    <a href="https://opentracing.io/">OpenTracing</a> as depicted
                    in the screenshot.
                </div>
            </div>
        </div>
    </div>
</div>


<div class="section">
    <div class="section-content">
        <div class="row">

            <div class="col-xs-6 col-md-5 part">
                <div class="image">
                    <img src="images/asciidoc_example.png" style="width: 500; height: auto">
                </div>
            </div>

            <div class="col-xs-6 col-md-7 part">
                <div class="content" style="padding-right: 100px; padding-top: 50px">

                    Crnk <span class="highlight">takes an implementation and example-driven approach</span>
                    where curl or a simple browser is sufficient to navigate the API. Complex modelling as in
                    SOAP, gRPC, GraphQL and Swagger is not necessary and does not stand in between implementation
                    and developer. It is still possible to access meta and presentation models at compile and runtime to
                    learn
                    about the system.
                    <p>
                        On this basis a generator can create derived artifacts like Typescript stubs and Asciidoc
                        documentation. The Asciidoc documentation presents the resource model and shows verified API
                        calls
                        extracted from running test cases. A cluttering of documentation-related annotations is not
                        necessary.
                </div>
            </div>
        </div>
    </div>
</div>


<div class="section">
    <div class="section-content">
        <div class="row">

            <div class="col-xs-6 col-md-4 part">
                <div class="image">
                    <i class="material-icons section-icon" style="font-size: 200px; color: 154854">
                        security
                    </i>
                </div>
            </div>

            <div class="col-xs-6 col-md-8 part">
                <div class="content" style="padding-right: 100px; padding-top: 50px">

                    The <span class="highlight">resource-oriented nature allows for authorization mechanisms</span>
                    that go well beyond traditional REST endpoints:

                    <ul style="padding-top: 20px">
                        <li>Limit access to resource types and fields. Crnk will take care of protecting
                            everything from the basic endpoints to their relationships and request parameters.
                        </li>
                        <li>Add dataroom protection to limit the number of resources a user can see.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="section">
    <div class="section-content">
        <div class="row">

            <div class="col-xs-6 col-md-4 part">
                <div class="image">
                    <i class="material-icons section-icon" style="font-size: 200px; color: 154854">
                        games
                    </i>
                </div>
            </div>

            <div class="col-xs-6 col-md-8 part">
                <div class="content" style="padding-right: 100px; padding-top: 50px">

                    Crnk is <span class="highlight">lightweight, modular and almost dependency-free</span>.
                    It is a library that integrates well with basically everything from
                    Spring Boot, Vert.x, JAX-RS, servlets and others. Its footprint allows to build
                    everything from  traditional services to serverless applications.
                </div>
            </div>
        </div>
    </div>
</div>


<br>
<br>
<br>
<br>


<div class="section">
    <div class="section-content">

        <h3>Get Started in 5 Minutes</h3>

        <p>
            The following gives a brief example of how to setup Crnk with Spring Boot
            For more information have a look at
            the <a href="https://github.com/crnk-project/crnk-example">examples</a>
            and <a href="/releases/stable/documentation/">documentation</a> and join us on <a
                href="https://gitter.im/crnk-io/Lobby?source=orgpage">Gitter</a> and
            <a href="https://github.com/crnk-project/">GitHub</a>!
        </p>

        <div>
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation"
                    class="active"><a href="#dependencies" aria-controls="dependencies" role="tab"
                                      data-toggle="tab">Dependencies
                </a></li>
                <li
                        role="presentation"><a href="#jaxrs" aria-controls="jaxrs" role="tab" data-toggle="tab">Spring
                    Application</a></li>
                <li
                        role="presentation"><a href="#resource" aria-controls="resource" role="tab"
                                               data-toggle="tab">Resource
                </a></li>
                <li
                        role="presentation"><a href="#repository" aria-controls="repository" role="tab"
                                               data-toggle="tab">Repository
                </a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="dependencies">

                    Add jcenter as a repository, for example:

                    <pre class="prettyprint">
repositories {
    jcenter()
}
                    </pre>

                    Add the crnk-bom to your dependency management, for example:

                    <pre class="prettyprint">
apply plugin: 'io.spring.dependency-management'
dependencyManagement {
    imports {
        mavenBom 'org.springframework.boot:spring-boot-dependencies:2.1.0.RELEASE'
        mavenBom "io.crnk:crnk-bom:${CRNK_VERSION}"
    }
}
                    </pre>

                    And add the following dependencies to your classpath:

                    <pre class="prettyprint">
compile 'io.crnk:crnk-setup-spring-boot2'
compile 'io.crnk:crnk-format-plain-json'
compile 'io.crnk:crnk-home'
compile 'org.springframework.boot:spring-boot-starter-web'
					</pre>
                </div>
                <div role="tabpanel" class="tab-pane" id="jaxrs">


                    <p>
                        Setup a Spring Boot application:
                    </p>

                    <pre class="prettyprint">
@Configuration
@SpringBootApplication
public class MinimalSpringBootApplication {

	public static void main(String[] args) {
		SpringApplication.run(MinimalSpringBootApplication.class, args);
		System.out.println("visit http://127.0.0.1:8080/ in your browser");
	}
}
					</pre>


                </div>
                <div role="tabpanel" class="tab-pane" id="resource">

                    The actual data objects known as resource in JSON:API terminology looks like:

                    <pre class="prettyprint">
@JsonApiResource(type = "projects")
public class Project {

	@JsonApiId
	private Long id;

	@JsonProperty
	private String name;

	public Project() {
	}

	public Project(Long id, String name) {
		this.id = id;
		this.name = name;
	}

	public Long getId() {
		return id;
	}

	public void setId(Long id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}
}


					</pre>

                </div>
                <div role="tabpanel" class="tab-pane" id="repository">

                    The actual implementation of a JSON:API repository. This example stores all data in-memory.
                    Notice
                    the QuerySpec.apply to do sorting, filtering and patching in-memory. More advanced use cases
                    will translate the QuerySpec to a native query of the underlying data store. The
                    @ApplicationScoped will lead for the repository to get picked up by the crnk-cdi integration.

                    <pre class="prettyprint">

@Component
public class ProjectRepositoryImpl extends ResourceRepositoryBase&lt;Project, Long&gt; {

	private static final AtomicLong ID_GENERATOR = new AtomicLong(124);

	private Map&lt;Long, Project&gt; projects = new HashMap<&gt;();

	public ProjectRepositoryImpl() {
		super(Project.class);
	}

	@Override
	public synchronized void delete(Long id) {
		projects.remove(id);
	}

	@Override
	public synchronized &lt;S extends Project&gt; S save(S project) {
		if (project.getId() == null) {
			project.setId(ID_GENERATOR.getAndIncrement());
		}
		projects.put(project.getId(), project);
		return project;
	}

	@Override
	public synchronized ResourceList&lt;Project&gt; findAll(QuerySpec querySpec) {
		return querySpec.apply(projects.values());
	}
}

					</pre>
                </div>
            </div>

            <script>
                $('#myTabs a').click(function (e) {
                    e.preventDefault()
                    $(this).tab('show')
                })














            </script>


        </div>

    </div>
</div>


</body>
</html>






